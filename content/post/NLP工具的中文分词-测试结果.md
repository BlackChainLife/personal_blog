



[toc]

分别选取雪球和东方财富上语意相对很明确的句子进行测试，长句子和短句，测试各个工具在分词、词性标注、情感分析上的表现和准确性，采用的都是未进行训练的模型

# jieba

测试代码和结果： [jieba.md](jieba.md) 
根据测试结果来看，短句测试结果中，分词结果把金融专业的名词直接拆分开了，比如 回踩分开了，宁德时代股票名称分开了，回踩到xx点。关键词提取结果把宁德和时代分开了，且类似于回踩，买点和卖点，高开和低开，早盘，价格等在金融行业作为明显关键词但是完全忽略掉了，综上所述，如果使用该工具，需要对提供金融行业的相关语料，才能准确的提供相关的内容

```python

import jieba  
import jieba.analyse  
import jieba.posseg  
  
# 设置jieba分词的词典（可选）  
# jieba.set_dictionary('path_to_dictionary.txt')  
  
# 待分词的文本  
text_longer = ("今天A股三大指数分化走势涨跌不一，截至收盘沪市下跌14.25个基点，跌幅0.44%。深市上涨13.72个基点，涨幅0.12%。大盘指数下探后反抽向上，回收跌幅，创业板高开高走，"  
        "涨幅超过1%，中小100基本是收平，个股方面超过2900只下跌，沪深两市成交额连续第三个交易日超过万亿，市场资金开始放大，市场有望展开反弹走势，尤其是今天大盘指数下探后的反抽，"  
        "说明当下市场已经开始具备了反弹可能，同时创业板和中小100继续底部企稳，三大指数均具备了进一步反弹的可能性，尤其是中长期布局的芯片和半导体，"  
        "如果短期把握能力比较强的话，数字经济、人工智能、ChatGPT、信创等可以继续快进快出，除了科技股的布局，消费类题材关注汽车整车、啤酒股以及旅游酒店；经过今天的调整，"  
        "市场风险得到了释放，尤其是大盘指数下探后反抽，说明市场底部承接依旧很强。")  
  
text_shorter = ("宁德时代今天的下跌是潜在的盘整背驰实现了。197.10的盘整背驰，你可以用30分钟去看，这是在今天早盘低开低走才确认的，所以宁可早卖不要晚卖。"  
               "而197.10的下跌是标准的下跌+盘整+下跌，明天早盘至少还会迎来下跌一笔，这里基本要回踩到184.60附近，但这里的回踩短线只有买点而非卖点。")  
text = text_shorter  
# 使用jieba进行分词  
seg_list = jieba.cut(text)  
# 将分词结果转换为列表  
seg_list = list(seg_list)  
# 输出分词结果  
print('分词结果', seg_list)  
  
# 使用jieba进行关键词提取  
analyse = jieba.analyse.extract_tags(text, topK=20, withWeight=True, allowPOS=('n', 'nr', 'ns'))  
print('关键词提取', analyse)  
  
# 使用jieba的textrank进行关键词提取  
analyse = jieba.analyse.textrank(text, topK=20, withWeight=True, allowPOS=('n', 'nr', 'ns'))  
print('关键词提取',analyse)

```

```python
# 长句测试
Building prefix dict from the default dictionary ...
Loading model from cache /var/folders/23/bf_bf55d75918_dy9x3mjvsm0000gn/T/jieba.cache
分词结果 ['今天', 'A股', '三大', '指数', '分化', '走势', '涨跌', '不', '一', '，', '截至', '收盘', '沪市', '下跌', '14.25', '个', '基点', '，', '跌幅', '0.44%', '。', '深市', '上涨', '13.72', '个', '基点', '，', '涨幅', '0.12%', '。', '大盘', '指数', '下探', '后', '反', '抽', '向上', '，', '回收', '跌幅', '，', '创业板', '高开高', '走', '，', '涨幅', '超过', '1%', '，', '中小', '100', '基本', '是', '收平', '，', '个股', '方面', '超过', '2900', '只', '下跌', '，', '沪', '深', '两市', '成交额', '连续', '第三个', '交易日', '超过', '万亿', '，', '市场', '资金', '开始', '放大', '，', '市场', '有望', '展开', '反弹', '走势', '，', '尤其', '是', '今天', '大盘', '指数', '下探', '后', '的', '反', '抽', '，', '说明', '当下', '市场', '已经', '开始', '具备', '了', '反弹', '可能', '，', '同时', '创业板', '和', '中小', '100', '继续', '底部', '企稳', '，', '三大', '指数', '均', '具备', '了', '进一步', '反弹', '的', '可能性', '，', '尤其', '是', '中长期', '布局', '的', '芯片', '和', '半导体', '，', '如果', '短期', '把握', '能力', '比较', '强', '的话', '，', '数字', '经济', '、', '人工智能', '、', 'ChatGPT', '、', '信创', '等', '可以', '继续', '快', '进快', '出', '，', '除了', '科技股', '的', '布局', '，', '消费类', '题材', '关注', '汽车', '整车', '、', '啤酒', '股', '以及', '旅游', '酒店', '；', '经过', '今天', '的', '调整', '，', '市场', '风险', '得到', '了', '释放', '，', '尤其', '是', '大盘', '指数', '下探', '后', '反', '抽', '，', '说明', '市场', '底部', '承接', '依旧', '很强', '。']
Loading model cost 0.758 seconds.
Prefix dict has been built successfully.
关键词提取 [('指数', 0.4613215542575472), ('市场', 0.31341814604528306), ('大盘', 0.29755764960169806), ('基点', 0.28777040115962266), ('布局', 0.2418292305418868), ('跌幅', 0.23461411211018868), ('A股', 0.2255616509981132), ('收平', 0.2255616509981132), ('企稳', 0.2255616509981132), ('信创', 0.2255616509981132), ('涨幅', 0.20349913365773584), ('走势', 0.20127329693056606), ('科技股', 0.18502515263679245), ('创业板', 0.17962702545698114), ('人工智能', 0.17845332821679247), ('芯片', 0.16986486513245286), ('高开高', 0.16288338665867924), ('消费类', 0.15054904211943396), ('成交额', 0.14927766481301888), ('半导体', 0.14655244545245283)]
关键词提取 [('市场', 1.0), ('指数', 0.9494305249590554), ('布局', 0.7681012311899538), ('人工智能', 0.7383534881758125), ('消费类', 0.7240957002268735), ('跌幅', 0.629225115187555), ('涨幅', 0.6079931458534557), ('大盘', 0.5968382424989046), ('收平', 0.594180254503658), ('汽车', 0.5912535612711787), ('个股', 0.5896003644753114), ('整车', 0.5893433836800747), ('题材', 0.5810411036206542), ('走势', 0.5285609156079839), ('啤酒', 0.5102958459917164), ('经济', 0.49300835836157636), ('数字', 0.4906952910046603), ('基点', 0.4777881636996278), ('交易日', 0.47750054362983335), ('高开高', 0.46987606438781976)]


# 短句测试
Building prefix dict from the default dictionary ...
Loading model from cache /var/folders/23/bf_bf55d75918_dy9x3mjvsm0000gn/T/jieba.cache
分词结果 ['宁德', '时代', '今天', '的', '下跌', '是', '潜在', '的', '盘整', '背驰', '实现', '了', '。', '197.10', '的', '盘整', '背驰', '，', '你', '可以', '用', '30', '分钟', '去', '看', '，', '这', '是', '在', '今天', '早盘', '低开', '低', '走', '才', '确认', '的', '，', '所以', '宁可', '早卖', '不要', '晚卖', '。', '而', '197.10', '的', '下跌', '是', '标准', '的', '下跌', '+', '盘整', '+', '下跌', '，', '明天', '早盘', '至少', '还会', '迎来', '下跌', '一笔', '，', '这里', '基本', '要', '回', '踩', '到', '184.60', '附近', '，', '但', '这里', '的', '回', '踩', '短线', '只有', '买点', '而', '非', '卖点', '。']
关键词提取 [('宁德', 1.6308244288857143), ('卖点', 1.3414025922085713), ('买点', 1.3143138980257143), ('宁可', 1.15736928536), ('时代', 0.7866186129371429), ('标准', 0.77321448709), ('基本', 0.6858795878714286)]
关键词提取 [('时代', 1.0), ('卖点', 1.0), ('宁德', 0.994132857417495), ('买点', 0.994132857417495)]
Loading model cost 0.759 seconds.
Prefix dict has been built successfully.
```



# hanlp

使用`pip install pyhanlp`进行安装

# THULAC：一个高效的中文词法分析工具包NLP 

http://thulac.thunlp.org/